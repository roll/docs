
<!DOCTYPE HTML>
<html lang="" >
    <head>
        <meta charset="UTF-8">
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <title>datapackage-go Â· GitBook</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="GitBook 3.2.3">
        
        
        
    
    <link rel="stylesheet" href="../gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-anchor-navigation-ex/style/plugin.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-highlight/website.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-search/search.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-fontsettings/website.css">
                
            
        

    

    
        
        <link rel="stylesheet" href="../styles/website.css">
        
    
        
    
        
    
        
    
        
    
        
    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="../gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="tableschema-go.html" />
    
    

    </head>
    <body>
        
<div class="book">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="Type to search" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    

    

    
        
        
    
        <li class="chapter " data-level="1.1" data-path="../">
            
                <a href="../">
            
                    
                    Introduction
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2" >
            
                <span>
            
                    
                    Overview
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.1" data-path="../sources/architecture.html">
            
                <a href="../sources/architecture.html">
            
                    
                    Architecture
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.2" data-path="../sources/development.html">
            
                <a href="../sources/development.html">
            
                    
                    Development
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.3" >
            
                <span>
            
                    
                    Contributing
            
                </span>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3" >
            
                <span>
            
                    
                    Getting Started
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.1" >
            
                <span>
            
                    
                    How to use libraries
            
                </span>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4" >
            
                <span>
            
                    
                    Tutorials
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.1" data-path="../sources/working-with-data-package.html">
            
                <a href="../sources/working-with-data-package.html">
            
                    
                    Working with Data Package
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2" >
            
                <span>
            
                    
                    Inferring metadata
            
                </span>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.3" >
            
                <span>
            
                    
                    Import/export to SQL
            
                </span>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.5" >
            
                <span>
            
                    
                    API Reference
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.5.1" >
            
                <span>
            
                    
                    Python
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.5.1.1" data-path="goodtables-py.html">
            
                <a href="goodtables-py.html">
            
                    
                    goodtables-py
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.1.2" data-path="datapackage-py.html">
            
                <a href="datapackage-py.html">
            
                    
                    datapackage-py
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.1.3" data-path="tableschema-py.html">
            
                <a href="tableschema-py.html">
            
                    
                    tableschema-py
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.1.4" data-path="tableschema-sql-py.html">
            
                <a href="tableschema-sql-py.html">
            
                    
                    tableschema-sql-py
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.1.5" data-path="tableschema-bigquery-py.html">
            
                <a href="tableschema-bigquery-py.html">
            
                    
                    tableschema-bigquery-py
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.1.6" data-path="tableschema-pandas-py.html">
            
                <a href="tableschema-pandas-py.html">
            
                    
                    tableschema-pandas-py
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.1.7" data-path="tabulator-py.html">
            
                <a href="tabulator-py.html">
            
                    
                    tabulator-py
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.5.2" >
            
                <span>
            
                    
                    JavaScript
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.5.2.1" data-path="goodtables-ui.html">
            
                <a href="goodtables-ui.html">
            
                    
                    goodtables-ui
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.2.2" data-path="datapackage-ui.html">
            
                <a href="datapackage-ui.html">
            
                    
                    datapackage-ui
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.2.3" data-path="datapackage-js.html">
            
                <a href="datapackage-js.html">
            
                    
                    datapackage-js
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.2.4" data-path="tableschema-js.html">
            
                <a href="tableschema-js.html">
            
                    
                    tableschema-js
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.5.3" >
            
                <span>
            
                    
                    Ruby
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.5.3.1" data-path="datapackage-rb.html">
            
                <a href="datapackage-rb.html">
            
                    
                    datapackage-rb
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.3.2" data-path="tableschema-rb.html">
            
                <a href="tableschema-rb.html">
            
                    
                    tableschema-rb
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.5.4" >
            
                <span>
            
                    
                    PHP
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.5.4.1" data-path="datapackage-php.html">
            
                <a href="datapackage-php.html">
            
                    
                    datapackage-php
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.4.2" data-path="tableschema-php.html">
            
                <a href="tableschema-php.html">
            
                    
                    tableschema-php
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.5.5" >
            
                <span>
            
                    
                    Go
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter active" data-level="1.5.5.1" data-path="datapackage-go.html">
            
                <a href="datapackage-go.html">
            
                    
                    datapackage-go
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.5.2" data-path="tableschema-go.html">
            
                <a href="tableschema-go.html">
            
                    
                    tableschema-go
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.5.6" >
            
                <span>
            
                    
                    Java
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.5.6.1" data-path="datapackage-java.html">
            
                <a href="datapackage-java.html">
            
                    
                    datapackage-java
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.6.2" data-path="tableschema-java.html">
            
                <a href="tableschema-java.html">
            
                    
                    tableschema-java
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.5.7" >
            
                <span>
            
                    
                    R
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.5.7.1" data-path="datapackage-r.html">
            
                <a href="datapackage-r.html">
            
                    
                    datapackage-r
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.7.2" data-path="tableschema-r.html">
            
                <a href="tableschema-r.html">
            
                    
                    tableschema-r
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.5.8" >
            
                <span>
            
                    
                    Clojure
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.5.8.1" data-path="datapackage-clj.html">
            
                <a href="datapackage-clj.html">
            
                    
                    datapackage-clj
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.8.2" data-path="tableschema-clj.html">
            
                <a href="tableschema-clj.html">
            
                    
                    tableschema-clj
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.5.9" >
            
                <span>
            
                    
                    Julia
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.5.9.1" data-path="datapackage-jl.html">
            
                <a href="datapackage-jl.html">
            
                    
                    datapackage-jl
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.9.2" data-path="tableschema-jl.html">
            
                <a href="tableschema-jl.html">
            
                    
                    tableschema-jl
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            Published with GitBook
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href=".." >datapackage-go</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <div id="anchor-navigation-ex-navbar"><i class="fa fa-anchor"></i><ul><li><span class="title-icon "></span><a href="#datapackage-go"><b>1. </b>datapackage-go</a></li><ul><li><span class="title-icon "></span><a href="#install"><b>1.1. </b>Install</a></li><li><span class="title-icon "></span><a href="#main-features"><b>1.2. </b>Main Features</a></li><ul><li><span class="title-icon "></span><a href="#loading-and-validating-data-package-descriptors"><b>1.2.1. </b>Loading and validating data package descriptors</a></li><li><span class="title-icon "></span><a href="#accessing-data-package-resources"><b>1.2.2. </b>Accessing data package resources</a></li><li><span class="title-icon "></span><a href="#loading-zip-bundles"><b>1.2.3. </b>Loading zip bundles</a></li><li><span class="title-icon "></span><a href="#creating-a-zip-bundle-with-the-data-package"><b>1.2.4. </b>Creating a zip bundle with the data package.</a></li><li><span class="title-icon "></span><a href="#csv-dialect-support"><b>1.2.5. </b>CSV dialect support</a></li><li><span class="title-icon "></span><a href="#loading-multipart-resources"><b>1.2.6. </b>Loading multipart resources</a></li><li><span class="title-icon "></span><a href="#manipulating-data-packages-programatically"><b>1.2.7. </b>Manipulating data packages programatically</a></li></ul></ul></ul></div><a href="#datapackage-go" id="anchorNavigationExGoTop"><i class="fa fa-arrow-up"></i></a><p><a href="https://travis-ci.org/frictionlessdata/datapackage-go" target="_blank"><img src="https://travis-ci.org/frictionlessdata/datapackage-go.svg?branch=master" alt="Build Status"></a> <a href="https://coveralls.io/github/frictionlessdata/datapackage-go?branch=master" target="_blank"><img src="https://coveralls.io/repos/github/frictionlessdata/datapackage-go/badge.svg?branch=master" alt="Coverage Status"></a> <a href="https://goreportcard.com/report/github.com/frictionlessdata/datapackage-go" target="_blank"><img src="https://goreportcard.com/badge/github.com/frictionlessdata/datapackage-go" alt="Go Report Card"></a> <a href="https://gitter.im/frictionlessdata/chat" target="_blank"><img src="https://badges.gitter.im/gitterHQ/gitter.png" alt="Gitter chat"></a> <a href="https://godoc.org/github.com/frictionlessdata/datapackage-go" target="_blank"><img src="https://godoc.org/github.com/frictionlessdata/datapackage-go?status.svg" alt="GoDoc"></a></p>
<h1 id="datapackage-go"><a name="datapackage-go" class="anchor-navigation-ex-anchor" href="#datapackage-go"><i class="fa fa-link" aria-hidden="true"></i></a>1. datapackage-go</h1>
<p>A Go library for working with <a href="http://specs.frictionlessdata.io/data-package/" target="_blank">Data Packages</a>.</p>
<!-- TOC -->
<ul>
<li><a href="#datapackage-go">datapackage-go</a><ul>
<li><a href="#install">Install</a></li>
<li><a href="#main-features">Main Features</a><ul>
<li><a href="#loading-and-validating-data-package-descriptors">Loading and validating data package descriptors</a></li>
<li><a href="#accessing-data-package-resources">Accessing data package resources</a></li>
<li><a href="#loading-zip-bundles">Loading zip bundles</a></li>
<li><a href="#creating-a-zip-bundle-with-the-data-package">Creating a zip bundle with the data package.</a></li>
<li><a href="#csv-dialect-support">CSV dialect support</a></li>
<li><a href="#loading-multipart-resources">Loading multipart resources</a></li>
<li><a href="#manipulating-data-packages-programatically">Manipulating data packages programatically</a></li>
</ul>
</li>
</ul>
</li>
</ul>
<!-- /TOC -->
<h2 id="install"><a name="install" class="anchor-navigation-ex-anchor" href="#install"><i class="fa fa-link" aria-hidden="true"></i></a>1.1. Install</h2>
<pre><code class="lang-sh">$ go get -u github.com/frictionlessdata/datapackage-go/...
</code></pre>
<h2 id="main-features"><a name="main-features" class="anchor-navigation-ex-anchor" href="#main-features"><i class="fa fa-link" aria-hidden="true"></i></a>1.2. Main Features</h2>
<h3 id="loading-and-validating-data-package-descriptors"><a name="loading-and-validating-data-package-descriptors" class="anchor-navigation-ex-anchor" href="#loading-and-validating-data-package-descriptors"><i class="fa fa-link" aria-hidden="true"></i></a>1.2.1. Loading and validating data package descriptors</h3>
<p>A <a href="http://frictionlessdata.io/specs/data-package/" target="_blank">data package</a> is a collection of <a href="http://frictionlessdata.io/specs/data-resource/" target="_blank">resources</a>. The <a href="https://godoc.org/github.com/frictionlessdata/datapackage-go/datapackage#Package" target="_blank">datapackage.Package</a> provides various capabilities like loading local or remote data package, saving a data package descriptor and many more.</p>
<p>Consider we have some local csv file and a JSON descriptor in a <code>data</code> directory:</p>
<blockquote>
<p>data/population.csv</p>
<pre><code class="lang-csv">city,year,population
london,2017,8780000
paris,2017,2240000
rome,2017,2860000
</code></pre>
<p>data/datapackage.json</p>
<pre><code class="lang-json">{
    <span class="hljs-string">&quot;name&quot;</span>: <span class="hljs-string">&quot;world&quot;</span>,
    <span class="hljs-string">&quot;resources&quot;</span>: [
      {
        <span class="hljs-string">&quot;name&quot;</span>: <span class="hljs-string">&quot;population&quot;</span>,
        <span class="hljs-string">&quot;path&quot;</span>: <span class="hljs-string">&quot;population.csv&quot;</span>,
        <span class="hljs-string">&quot;profile&quot;</span>:<span class="hljs-string">&quot;tabular-data-resource&quot;</span>,
        <span class="hljs-string">&quot;schema&quot;</span>: {
          <span class="hljs-string">&quot;fields&quot;</span>: [
            {<span class="hljs-string">&quot;name&quot;</span>: <span class="hljs-string">&quot;city&quot;</span>, <span class="hljs-string">&quot;type&quot;</span>: <span class="hljs-string">&quot;string&quot;</span>},
            {<span class="hljs-string">&quot;name&quot;</span>: <span class="hljs-string">&quot;year&quot;</span>, <span class="hljs-string">&quot;type&quot;</span>: <span class="hljs-string">&quot;integer&quot;</span>},
            {<span class="hljs-string">&quot;name&quot;</span>: <span class="hljs-string">&quot;population&quot;</span>, <span class="hljs-string">&quot;type&quot;</span>: <span class="hljs-string">&quot;integer&quot;</span>}
          ]
        }
      }
    ]
  }
</code></pre>
</blockquote>
<p>Let&apos;s create a data package based on this data using the <a href="https://godoc.org/github.com/frictionlessdata/datapackage-go/datapackage#Package" target="_blank">datapackage.Package</a> class:</p>
<pre><code class="lang-go">pkg, err := datapackage.Load(<span class="hljs-string">&quot;data/datapackage.json&quot;</span>)
<span class="hljs-comment">// Check error.</span>
</code></pre>
<h3 id="accessing-data-package-resources"><a name="accessing-data-package-resources" class="anchor-navigation-ex-anchor" href="#accessing-data-package-resources"><i class="fa fa-link" aria-hidden="true"></i></a>1.2.2. Accessing data package resources</h3>
<p>Once the data package is loaded, we could use the <a href="https://godoc.org/github.com/frictionlessdata/datapackage-go/datapackage#Resource" target="_blank">datapackage.Resource</a> class to read data resource&apos;s contents:</p>
<pre><code class="lang-go">resource := pkg.GetResource(<span class="hljs-string">&quot;population&quot;</span>)
contents, _ := resource.ReadAll()
fmt.Println(contents)
<span class="hljs-comment">// [[london 2017 8780000] [paris 2017 2240000] [rome 20172860000]]</span>
</code></pre>
<p>Or you could cast to Go types, making it easier to perform further processing:</p>
<pre><code class="lang-go"><span class="hljs-keyword">type</span> Population <span class="hljs-keyword">struct</span> {
    City <span class="hljs-keyword">string</span> <span class="hljs-string">`tableheader:&quot;city&quot;`</span>
    Year  <span class="hljs-keyword">string</span> <span class="hljs-string">`tableheader:&quot;year&quot;`</span>
    Population   <span class="hljs-keyword">int</span>    <span class="hljs-string">`tableheader:&quot;population&quot;`</span>
}

<span class="hljs-keyword">var</span> cities []Population
resource.Cast(&amp;cities, csv.LoadHeaders())
fmt.Printf(<span class="hljs-string">&quot;+v&quot;</span>, cities)
<span class="hljs-comment">// [{City:london Year:2017 Population:8780000} {City:paris Year:2017 Population:2240000} {City:rome Year:2017 Population:2860000}]</span>
</code></pre>
<p>Finally, if the data is to big to be loaded at once or if you would like to perform line-by-line processing, you could iterate through the resource contents:</p>
<pre><code class="lang-go">iter, _ := resource.Iter(csv.LoadHeaders())
sch, _ := resource.GetSchema()
<span class="hljs-keyword">for</span> iter.Next() {
    <span class="hljs-keyword">var</span> p Population
    sch.CastRow(iter.Row(), &amp;cp)
    fmt.Printf(<span class="hljs-string">&quot;%+v\n&quot;</span>, p)
}
<span class="hljs-comment">// {City:london Year:2017 Population:8780000</span>
<span class="hljs-comment">// {City:paris Year:2017 Population:2240000}</span>
<span class="hljs-comment">// {City:rome Year:2017 Population:2860000}]</span>
</code></pre>
<h3 id="loading-zip-bundles"><a name="loading-zip-bundles" class="anchor-navigation-ex-anchor" href="#loading-zip-bundles"><i class="fa fa-link" aria-hidden="true"></i></a>1.2.3. Loading zip bundles</h3>
<p>It is very common to store the data in zip bundles containing the descriptor and data files. Those are natively supported by our the <a href="https://godoc.org/github.com/frictionlessdata/datapackage-go/datapackage#Load" target="_blank">datapackage.Load</a> method. For example, lets say we have the following <code>package.zip</code> bundle:</p>
<pre><code>|- package.zip
    |- datapackage.json
    |- data.csv
</code></pre><p>We could load this package by simply:</p>
<pre><code class="lang-go">pkg, err := datapackage.Load(<span class="hljs-string">&quot;package.zip&quot;</span>)
<span class="hljs-comment">// Check error.</span>
</code></pre>
<p>And the library will unzip the package contents to a temporary directory and wire everything up for us.</p>
<p>A complete example can be found <a href="https://github.com/frictionlessdata/datapackage-go/tree/master/examples/load_zip" target="_blank">here</a>.</p>
<h3 id="creating-a-zip-bundle-with-the-data-package"><a name="creating-a-zip-bundle-with-the-data-package" class="anchor-navigation-ex-anchor" href="#creating-a-zip-bundle-with-the-data-package"><i class="fa fa-link" aria-hidden="true"></i></a>1.2.4. Creating a zip bundle with the data package.</h3>
<p>You could also easily create a zip file containing the descriptor and all the data resources. Let&apos;s say you have a <a href="https://godoc.org/github.com/frictionlessdata/datapackage-go/datapackage#Package" target="_blank">datapackage.Package</a> instance, to create a zip file containing all resources simply:</p>
<pre><code class="lang-go">err := pkg.Zip(<span class="hljs-string">&quot;package.zip&quot;</span>)
<span class="hljs-comment">// Check error.</span>
</code></pre>
<p>This call also download remote resources. A complete example can be found <a href="https://github.com/frictionlessdata/datapackage-go/tree/master/examples/zip" target="_blank">here</a></p>
<h3 id="csv-dialect-support"><a name="csv-dialect-support" class="anchor-navigation-ex-anchor" href="#csv-dialect-support"><i class="fa fa-link" aria-hidden="true"></i></a>1.2.5. CSV dialect support</h3>
<p>Basic support for configuring <a href="http://frictionlessdata.io/specs/csv-dialect/" target="_blank">CSV dialect</a> has been added. In particular <code>delimiter</code>, <code>skipInitialSpace</code> and <code>header</code> fields are supported. For instance, lets assume the population file has a different field delimiter:</p>
<blockquote>
<p>data/population.csv</p>
<pre><code class="lang-csv">city,year,population
london;2017;8780000
paris;2017;2240000
rome;2017;2860000
</code></pre>
</blockquote>
<p>One could easily parse by adding following <code>dialect</code> property to the <code>world</code> resource:</p>
<pre><code class="lang-json">    <span class="hljs-string">&quot;dialect&quot;</span>:{
        <span class="hljs-string">&quot;delimiter&quot;</span>:<span class="hljs-string">&quot;;&quot;</span>
    }
</code></pre>
<p>A complete example can be found <a href="https://github.com/frictionlessdata/datapackage-go/tree/master/examples/load" target="_blank">here</a>.</p>
<h3 id="loading-multipart-resources"><a name="loading-multipart-resources" class="anchor-navigation-ex-anchor" href="#loading-multipart-resources"><i class="fa fa-link" aria-hidden="true"></i></a>1.2.6. Loading multipart resources</h3>
<p>Sometimes you have data scattered across many local or remote files. Datapackage-go offers an easy way you to deal all those file as one big
file. We call it multipart resources. To use this feature, simply list your files in the <code>path</code> property of the resource. For example, lets
say our population data is now split between north and south hemispheres. To deal with this, we only need change to change the package descriptor:</p>
<blockquote>
<p>data/datapackage.json</p>
<pre><code class="lang-json">{
    <span class="hljs-string">&quot;name&quot;</span>: <span class="hljs-string">&quot;world&quot;</span>,
    <span class="hljs-string">&quot;resources&quot;</span>: [
      {
        <span class="hljs-string">&quot;name&quot;</span>: <span class="hljs-string">&quot;population&quot;</span>,
        <span class="hljs-string">&quot;path&quot;</span>: [<span class="hljs-string">&quot;north.csv&quot;</span>,<span class="hljs-string">&quot;south.csv&quot;</span>],
        <span class="hljs-string">&quot;profile&quot;</span>:<span class="hljs-string">&quot;tabular-data-resource&quot;</span>,
        <span class="hljs-string">&quot;schema&quot;</span>: {
          <span class="hljs-string">&quot;fields&quot;</span>: [
            {<span class="hljs-string">&quot;name&quot;</span>: <span class="hljs-string">&quot;city&quot;</span>, <span class="hljs-string">&quot;type&quot;</span>: <span class="hljs-string">&quot;string&quot;</span>},
            {<span class="hljs-string">&quot;name&quot;</span>: <span class="hljs-string">&quot;year&quot;</span>, <span class="hljs-string">&quot;type&quot;</span>: <span class="hljs-string">&quot;integer&quot;</span>},
            {<span class="hljs-string">&quot;name&quot;</span>: <span class="hljs-string">&quot;population&quot;</span>, <span class="hljs-string">&quot;type&quot;</span>: <span class="hljs-string">&quot;integer&quot;</span>}
          ]
        }
      }
    ]
  }
</code></pre>
</blockquote>
<p>And all the rest of the code would still be working. </p>
<p>A complete example can be found <a href="https://github.com/frictionlessdata/datapackage-go/tree/master/examples/multipart" target="_blank">here</a>.</p>
<h3 id="manipulating-data-packages-programatically"><a name="manipulating-data-packages-programatically" class="anchor-navigation-ex-anchor" href="#manipulating-data-packages-programatically"><i class="fa fa-link" aria-hidden="true"></i></a>1.2.7. Manipulating data packages programatically</h3>
<p>The datapackage-go library also makes it easy to save packages. Let&apos;s say you&apos;re creating a program that produces data packages and would like to add or remove resource:</p>
<pre><code class="lang-go">descriptor := <span class="hljs-keyword">map</span>[<span class="hljs-keyword">string</span>]<span class="hljs-keyword">interface</span>{}{
    <span class="hljs-string">&quot;resources&quot;</span>: []<span class="hljs-keyword">interface</span>{}{
        <span class="hljs-keyword">map</span>[<span class="hljs-keyword">string</span>]<span class="hljs-keyword">interface</span>{}{
            <span class="hljs-string">&quot;name&quot;</span>:    <span class="hljs-string">&quot;books&quot;</span>,
            <span class="hljs-string">&quot;path&quot;</span>:    <span class="hljs-string">&quot;books.csv&quot;</span>,
            <span class="hljs-string">&quot;format&quot;</span>:  <span class="hljs-string">&quot;csv&quot;</span>,
            <span class="hljs-string">&quot;profile&quot;</span>: <span class="hljs-string">&quot;tabular-data-resource&quot;</span>,
            <span class="hljs-string">&quot;schema&quot;</span>: <span class="hljs-keyword">map</span>[<span class="hljs-keyword">string</span>]<span class="hljs-keyword">interface</span>{}{
                <span class="hljs-string">&quot;fields&quot;</span>: []<span class="hljs-keyword">interface</span>{}{
                    <span class="hljs-keyword">map</span>[<span class="hljs-keyword">string</span>]<span class="hljs-keyword">interface</span>{}{<span class="hljs-string">&quot;name&quot;</span>: <span class="hljs-string">&quot;author&quot;</span>, <span class="hljs-string">&quot;type&quot;</span>: <span class="hljs-string">&quot;string&quot;</span>},
                    <span class="hljs-keyword">map</span>[<span class="hljs-keyword">string</span>]<span class="hljs-keyword">interface</span>{}{<span class="hljs-string">&quot;name&quot;</span>: <span class="hljs-string">&quot;title&quot;</span>, <span class="hljs-string">&quot;type&quot;</span>: <span class="hljs-string">&quot;string&quot;</span>},
                    <span class="hljs-keyword">map</span>[<span class="hljs-keyword">string</span>]<span class="hljs-keyword">interface</span>{}{<span class="hljs-string">&quot;name&quot;</span>: <span class="hljs-string">&quot;year&quot;</span>, <span class="hljs-string">&quot;type&quot;</span>: <span class="hljs-string">&quot;integer&quot;</span>},
                },
            },
        },
    },
}
pkg, err := datapackage.New(descriptor, <span class="hljs-string">&quot;.&quot;</span>, validator.InMemoryLoader())
<span class="hljs-keyword">if</span> err != <span class="hljs-literal">nil</span> {
    <span class="hljs-built_in">panic</span>(err)
}
<span class="hljs-comment">// Removing resource.</span>
pkg.RemoveResource(<span class="hljs-string">&quot;books&quot;</span>)

<span class="hljs-comment">// Adding new resource.</span>
pkg.AddResource(<span class="hljs-keyword">map</span>[<span class="hljs-keyword">string</span>]<span class="hljs-keyword">interface</span>{}{
    <span class="hljs-string">&quot;name&quot;</span>:    <span class="hljs-string">&quot;cities&quot;</span>,
    <span class="hljs-string">&quot;path&quot;</span>:    <span class="hljs-string">&quot;cities.csv&quot;</span>,
    <span class="hljs-string">&quot;format&quot;</span>:  <span class="hljs-string">&quot;csv&quot;</span>,
    <span class="hljs-string">&quot;profile&quot;</span>: <span class="hljs-string">&quot;tabular-data-resource&quot;</span>,
    <span class="hljs-string">&quot;schema&quot;</span>: <span class="hljs-keyword">map</span>[<span class="hljs-keyword">string</span>]<span class="hljs-keyword">interface</span>{}{
        <span class="hljs-string">&quot;fields&quot;</span>: []<span class="hljs-keyword">interface</span>{}{
            <span class="hljs-keyword">map</span>[<span class="hljs-keyword">string</span>]<span class="hljs-keyword">interface</span>{}{<span class="hljs-string">&quot;name&quot;</span>: <span class="hljs-string">&quot;city&quot;</span>, <span class="hljs-string">&quot;type&quot;</span>: <span class="hljs-string">&quot;string&quot;</span>},
            <span class="hljs-keyword">map</span>[<span class="hljs-keyword">string</span>]<span class="hljs-keyword">interface</span>{}{<span class="hljs-string">&quot;name&quot;</span>: <span class="hljs-string">&quot;year&quot;</span>, <span class="hljs-string">&quot;type&quot;</span>: <span class="hljs-string">&quot;integer&quot;</span>},
            <span class="hljs-keyword">map</span>[<span class="hljs-keyword">string</span>]<span class="hljs-keyword">interface</span>{}{<span class="hljs-string">&quot;name&quot;</span>: <span class="hljs-string">&quot;population&quot;</span>, <span class="hljs-string">&quot;type&quot;</span>: <span class="hljs-string">&quot;integer&quot;</span>}
        },
    },
})

<span class="hljs-comment">// Printing resource contents.</span>
cities, _ := pkg.GetResource(<span class="hljs-string">&quot;cities&quot;</span>).ReadAll()
fmt.Println(cities)
<span class="hljs-comment">// [[london 2017 8780000] [paris 2017 2240000] [rome 20172860000]]</span>
</code></pre>

                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                
                <a href="tableschema-go.html" class="navigation navigation-next navigation-unique" aria-label="Next page: tableschema-go">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"datapackage-go","level":"1.5.5.1","depth":3,"next":{"title":"tableschema-go","level":"1.5.5.2","depth":3,"path":"references/tableschema-go.md","ref":"references/tableschema-go.md","articles":[]},"previous":{"title":"Go","level":"1.5.5","depth":2,"ref":"","articles":[{"title":"datapackage-go","level":"1.5.5.1","depth":3,"path":"references/datapackage-go.md","ref":"references/datapackage-go.md","articles":[]},{"title":"tableschema-go","level":"1.5.5.2","depth":3,"path":"references/tableschema-go.md","ref":"references/tableschema-go.md","articles":[]}]},"dir":"ltr"},"config":{"gitbook":"*","theme":"default","variables":{},"plugins":["anchor-navigation-ex","livereload"],"pluginsConfig":{"anchor-navigation-ex":{"showLevel":true,"associatedWithSummary":true,"mode":"float","printLog":false,"multipleH1":true,"float":{"showLevelIcon":false,"level1Icon":"","level2Icon":"","level3Icon":""},"pageTop":{"showLevelIcon":false,"level1Icon":"","level2Icon":"","level3Icon":""}},"livereload":{},"highlight":{},"search":{},"lunr":{"maxIndexSize":1000000,"ignoreSpecialCharacters":false},"sharing":{"facebook":true,"twitter":true,"google":false,"weibo":false,"instapaper":false,"vk":false,"all":["facebook","google","twitter","weibo","instapaper"]},"fontsettings":{"theme":"white","family":"sans","size":2},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false}},"structure":{"langs":"LANGS.md","readme":"INTRODUCTION.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56}},"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"}},"file":{"path":"references/datapackage-go.md","mtime":"2018-01-24T08:36:07.307Z","type":"markdown"},"gitbook":{"version":"3.2.3","time":"2018-01-24T08:33:28.448Z"},"basePath":"..","book":{"language":""}});
        });
    </script>
</div>

        
    <script src="../gitbook/gitbook.js"></script>
    <script src="../gitbook/theme.js"></script>
    
        
        <script src="../gitbook/gitbook-plugin-livereload/plugin.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-search/search-engine.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-search/search.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-lunr/lunr.min.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-lunr/search-lunr.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-sharing/buttons.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    

    </body>
</html>

